<!-- id -->
<span class="margin-0"
  *ngIf="col === 'id'">
    {{ row.number }}
</span>
<!-- Type -->

<div *ngIf="col === 'type' && row.typeObs | async as type">
  <span class="f8-planner__cell-icon-type
    {{type?.icon}}"
    title="{{type?.name}}">
  </span>
  <span>{{ type?.name }}</span>
</div>
<!-- Title -->
<div class="f8-planner__cell-title-wrapper"
  *ngIf="col === 'title'">
  <div class="f8-planner__cell-title">
    <strong>
      <p class="truncate pointer margin-0"
        [class.bold]="row.bold"
        [innerHTML]="row.title"
        (click)="onPreview($event, row)">
      </p>
    </strong>
  </div>
  <div class="dib text-right f8-planner__cell-detail-icon">
    <span *ngIf="context ==='query' && row.hasChildren"
      class="fa fa-angle-right bold padding-v-5 pointer"
      (click)="onExploration(row)">
    </span>
    <span *ngIf="context ==='query' && !row.hasChildren"
      class="fa fa-angle-right icon__disabled padding-v-5 pointer"
      style="cursor: not-allowed">
    </span>
    <a class="fa fa-list-alt padding-v-5 pointer"
      placement="right"
      tooltip="Open Detail View"
      [routerLink]="context === 'list' ? ['detail', row.number] : ['../', 'detail', row.number]">
    </a>
  </div>
</div>
<!-- Status -->

<div class="f8-planner__cell-state"
  *ngIf="col === 'state'">
  <span class="padding-right-5 padding-top-4"
    almIcon [iconType]="row.state">
  </span>
  <span class="f8-planner__cell-state-text">
    {{ row.state }}
  </span>
</div>
<!-- Label -->
<div *ngIf="col === 'label'">
  <f8-label
    [labels]="row?.labelsObs | async"
    [truncateAfter]='4'
    [allowDelete]="false"
    (onLabelClick)="labelClick($event)">
  </f8-label>
</div>
<!-- Iteration -->
<span id="table-iteration"
  *ngIf="col === 'iteration'"
  tooltip="{{ (row.iterationObs | async)?.parentPath === '/' ? 'NA' : (row.iterationObs | async)?.name }}"
  placement="left">
    {{ (row.iterationObs | async)?.parentPath === '/' ? 'NA' : (row.iterationObs | async)?.name | truncate : 18 }}
</span>
<!-- Creator -->
<user-avatar
  *ngIf="col === 'creator'"
  [imgSrc]= "(row.creatorObs | async)?.avatar | almAvatarSize: 25"
  [imgTooltip]= "(row.creatorObs | async)?.name"
  [imgPlacement]="'left'">
</user-avatar>
<!-- Assignee -->
<div class="f8-planner__cell-assignees"
  *ngIf="col === 'assignees'">
  <f8-assignee
    [showFullName]="false"
    [truncateAfter]="3"
    [assignees]="row.assigneesObs | async">
  </f8-assignee>
</div>
